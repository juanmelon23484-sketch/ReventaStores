<!--
  Archivo: ReventaStore.html
  Descripción: Tienda online completa y profesional de reventa — HTML/CSS/JS
  Características:
    - Diseño elegante, minimalista, con acentos dorados
    - Catálogo de productos con imágenes y precios
    - Carrito funcional con localStorage
    - Checkout completo: copiar resumen, enviar por email y apartado para pago (simulado)
    - Preparada para integrar Stripe/PayPal en el futuro
-->

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ReventaStore — Tu tienda elegante de reventa</title>
  <style>
    :root{--bg:#0b0f12;--card:#071218;--text:#e9eef6;--muted:#9aa6b2;--accent:#b88b3a;--glass:rgba(255,255,255,0.03);--radius:12px}
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#061018);color:var(--text);font-family:Inter,system-ui,Arial;padding:28px}
    .wrap{max-width:1200px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:22px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:60px;height:60px;border-radius:12px;background:linear-gradient(135deg,#3b2b1a,#b88b3a);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:#fff}
    nav{color:var(--muted);font-size:14px}
    .hero{display:flex;align-items:center;gap:18px;margin-bottom:18px}
    .hero h1{margin:0;font-size:32px}
    .container{display:grid;grid-template-columns:1fr 380px;gap:18px;align-items:start}
    .products{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:14px}
    .product{background:var(--card);padding:14px;border-radius:12px;transition:transform 0.2s}
    .product:hover{transform:scale(1.03)}
    .product img{width:100%;height:160px;object-fit:cover;border-radius:8px}
    .product h3{margin:10px 0 6px}
    .product p{margin:0;color:var(--muted);font-size:14px}
    .price{font-weight:700;margin-top:8px}
    .btn{display:inline-block;padding:8px 12px;border-radius:10px;background:linear-gradient(90deg,#b88b3a,#e0b86f);color:#051018;text-decoration:none;font-weight:700;margin-top:10px;cursor:pointer;border:none}

    .card{background:var(--card);padding:14px;border-radius:12px}
    .cart-list{max-height:360px;overflow:auto;margin-top:8px}
    .cart-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;background:var(--glass);margin-bottom:8px}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:6px}
    .qty{display:flex;gap:6px;align-items:center}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:28px;color:var(--muted);text-align:center}

    @media (max-width:980px){.container{grid-template-columns:1fr}} 
    @media (max-width:720px){.products{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:420px){.products{grid-template-columns:1fr}.logo{width:46px;height:46px}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">RS</div>
        <div>
          <div style="font-weight:700">ReventaStore</div>
          <div class="small">Tu tienda elegante de reventa</div>
        </div>
      </div>
      <nav>Ventas directas · Pago demo · Entrega local</nav>
    </header>

    <main class="container">
      <section>
        <div class="hero">
          <h1>Productos destacados</h1>
          <div class="small">Compra directo y recibe rápido — catálogo elegante y sencillo.</div>
        </div>

        <div id="products" class="products"></div>
      </section>

      <aside class="card">
        <h3>Carrito</h3>
        <div id="cartList" class="cart-list"></div>

        <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="small">Total</div>
            <div id="totalPrice" style="font-weight:700">€0.00</div>
          </div>
          <div>
            <button id="clearBtn" class="btn" style="background:transparent;color:var(--muted);font-weight:600;border:1px solid rgba(255,255,255,0.04);">Vaciar</button>
          </div>
        </div>

        <div style="margin-top:12px;display:flex;flex-direction:column;gap:8px">
          <button id="checkoutBtn" class="btn">Finalizar compra</button>
          <button id="checkoutEmailBtn" class="btn" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)">Enviar pedido por email</button>
          <button id="checkoutPayBtn" class="btn" style="background:linear-gradient(90deg,#4caf50,#81c784);color:#051018">Pagar (Demo)</button>
        </div>

        <div style="margin-top:12px;color:var(--muted);font-size:13px">Checkout demo — pago simulado, listo para Stripe/PayPal.</div>
      </aside>
    </main>

    <footer>© <span id="year"></span> ReventaStore — Tienda elegante de reventa</footer>
  </div>

  <script>
    const products = [
      {id: 'p1', name: 'AirPods', desc: 'Auriculares inalámbricos', price: 66.99, img: 'https://www.apple.com/v/airpods-pro/q/images/overview/welcome/hero__b0eal3mn03ua_large.jpg'},
      {id: 'p2', name: 'Auriculares', desc: 'Sonido envolvente', price: 49.9, img: 'https://picsum.photos/seed/auriculares/600/400'},
      {id: 'p3', name: 'Perfume unisex', desc: 'Notas florales y amaderadas', price: 29.5, img: 'https://picsum.photos/seed/perfume/600/400'},
      {id: 'p4', name: 'Reloj clásico', desc: 'Correa de cuero', price: 89.0, img: 'https://picsum.photos/seed/reloj/600/400'},
      {id: 'p5', name: 'Bolso de mano', desc: 'Elegante y resistente', price: 59.0, img: 'https://picsum.photos/seed/bolso/600/400'},
      {id: 'p6', name: 'Gafas de sol', desc: 'Protección UV', price: 24.75, img: 'https://picsum.photos/seed/gafas/600/400'}
    ];

    let cart = JSON.parse(localStorage.getItem('rv_cart') || '[]');
    function saveCart(){ localStorage.setItem('rv_cart', JSON.stringify(cart)); }
    function formatPrice(v){ return '€' + v.toFixed(2); }

    const productsEl = document.getElementById('products');
    const cartListEl = document.getElementById('cartList');
    const totalPriceEl = document.getElementById('totalPrice');

    function renderProducts(){
      productsEl.innerHTML = products.map(p => `
        <div class="product card">
          <img src="${p.img}" alt="${p.name}" />
          <h3>${p.name}</h3>
          <p>${p.desc}</p>
          <div class="price">${formatPrice(p.price)}</div>
          <button class="btn" onclick="addToCart('${p.id}')">Agregar al carrito</button>
        </div>
      `).join('');
    }

    function renderCart(){
      if(cart.length === 0){ cartListEl.innerHTML = '<div class="small">Tu carrito está vacío.</div>'; totalPriceEl.textContent = formatPrice(0); return; }
      cartListEl.innerHTML = cart.map(item => {
        const p = products.find(x => x.id === item.id);
        return `
          <div class="cart-item">
            <img src="${p.img}" alt="${p.name}" />
            <div style="flex:1">
              <div style="font-weight:700">${p.name}</div>
              <div class="small">${formatPrice(p.price)} · <span class="small">x${item.qty}</span></div>
            </div>
            <div class="qty">
              <button onclick="changeQty('${item.id}', -1)">−</button>
              <div>${item.qty}</div>
              <button onclick="changeQty('${item.id}', 1)">+</button>
              <button onclick="removeItem('${item.id}')" style="margin-left:6px;background:transparent;border:none;color:var(--muted);">✕</button>
            </div>
          </div>
        `;
      }).join('');

      const total = cart.reduce((s,it)=>s + products.find(x=>x.id===it.id).price*it.qty,0);
      totalPriceEl.textContent = formatPrice(total);
    }

    function addToCart(id){
      const exist = cart.find(i=>i.id===id); if(exist) exist.qty+=1; else cart.push({id, qty:1});
      saveCart(); renderCart();
    }
    function changeQty(id, delta){
      const it = cart.find(i=>i.id===id); if(!it) return;
      it.qty+=delta; if(it.qty<=0) cart = cart.filter(x=>x.id!==id);
      saveCart(); renderCart();
    }
    function removeItem(id){ cart = cart.filter(x=>x.id!==id); saveCart(); renderCart(); }
    document.getElementById('clearBtn').addEventListener('click', ()=>{ cart=[]; saveCart(); renderCart(); });

    function generateOrder(){
      if(cart.length===0){ alert('El carrito está vacío.'); return null; }
      const items = cart.map(it=>{ const p = products.find(x=>x.id===it.id); return {name:p.name, qty:it.qty, price:p.price, subtotal:p.price*it.qty}; });
      const total = items.reduce((s,i)=>s+i.subtotal,0);
      return {items,total,date:new Date().toLocaleString()};
    }

    document.getElementById('checkoutBtn').addEventListener('click', ()=>{
      const order = generateOrder(); if(!order) return;
      const txt = order.items.map(it=>`${it.qty}× ${it.name} — ${formatPrice(it.subtotal)}`).join('\n');
      const body = `Pedido:\n${txt}\n\nTotal: ${formatPrice(order.total)}\nFecha: ${order.date}`;
      if(confirm(`Resumen del pedido:\n\n${txt}\n\nTotal: ${formatPrice(order.total)}\n\n¿Deseas copiar el resumen al portapapeles?`)){
        navigator.clipboard?.writeText(body).then(()=>alert('Resumen copiado. Pégalo en WhatsApp o correo.'));
      }
    });

    document.getElementById('checkoutEmailBtn').addEventListener('click', ()=>{
      const order = generateOrder(); if(!order) return;
      const lines = order.items.map(it=>`${it.qty}× ${it.name} — ${formatPrice(it.subtotal)}`);
      const body = `Hola,%0D%0A%0D%0AYo quiero hacer este pedido:%0D%0A${lines.join('%0D%0A')}%0D%0A%0D%0ATotal: ${formatPrice(order.total)}%0D%0AFecha: ${encodeURIComponent(order.date)}%0D%0A%0D%0ANombre:%0D%0ATeléfono:%0D%0ADirección de envío:%0D%0A%0D%0AGracias!`;
      window.location.href = `mailto:tu@correo.com?subject=Pedido desde ReventaStore&body=${body}`;
    });

    document.getElementById('checkoutPayBtn').addEventListener('click', ()=>{
      const order = generateOrder(); if(!order) return;
      alert(`Pago simulado: Total a pagar ${formatPrice(order.total)}. Integración real de pago próximamente.`);
    });

    document.getElementById('year').textContent = new Date().getFullYear();
    renderProducts(); renderCart();
    window.addToCart = addToCart; window.changeQty = changeQty; window.removeItem = removeItem;
  </script>
</body>
</html>
